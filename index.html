<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Hoadv App Shake!!!</title>
    <link rel="stylesheet" href="./style.css"></link>
</head>
<body>
    <h1>Lắc Lì Xì</h1>
    <p>Hãy lắc điện thoại để nhận lì xì!</p>
    <div id="lixi">🎉</div>
    <button class="button" onclick="resetLixi()">Làm mới</button>
    <script src="./shake.js"></script>
    <script type="text/javascript">
        const lixiList = [
                "Bạn nhận được 50,000 VNĐ! 🎁",
                "Chúc mừng! Bạn nhận được 100,000 VNĐ! 🎉",
                "Wow! Bạn nhận được 200,000 VNĐ! 🧧",
                "Bạn nhận được 500,000 VNĐ! 🤑",
                "Chúc mừng năm mới! Bạn nhận được 1,000,000 VNĐ! 🥳",
                "Hôm nay bạn hơi đen, thử lại lần sau nhé! 😅"
            ];

        // Chọn phần tử để hiển thị kết quả
        const lixiDiv = document.getElementById("lixi");

        // Hàm để hiển thị lì xì ngẫu nhiên
        function showLixi() {
            const randomIndex = Math.floor(Math.random() * lixiList.length);
            lixiDiv.textContent = lixiList[randomIndex];
        }

        // Hàm reset lì xì
        function resetLixi() {
            lixiDiv.textContent = "🎉";
        }

        // Khởi tạo Shake.js
        const shakeEvent = new Shake({
            threshold: 15, // Độ nhạy của lắc
            timeout: 1000  // Thời gian giữa các lần lắc
        });

        // Bắt sự kiện lắc
        shakeEvent.start();

        window.addEventListener('shake', function() {
            showLixi();
        }, false);

        // Đảm bảo dừng lắng nghe khi không cần thiết
        window.addEventListener('beforeunload', function() {
            shakeEvent.stop();
        });
    </script>
</body>
</html>